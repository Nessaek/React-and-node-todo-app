{"ast":null,"code":"var _jsxFileName = \"/Users/nessa.kennedy/myprojects/todos/client/src/components/ShowTodos.tsx\";\nimport * as React from \"react\";\nimport { useCallback, useEffect } from \"react\";\nimport { getTodos, updateTodo } from \"../api/requests\";\nimport { TextField } from \"@material-ui/core\";\nimport MaterialTable from \"material-table\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { useConfirm } from \"material-ui-confirm\";\nexport default function ShowTodos() {\n  const [todos, setTodos] = React.useState([]);\n  const [todo, setTodo] = React.useState({\n    _id: \"\",\n    name: \"\",\n    text: \"\",\n    status: false,\n    createdAt: \"\"\n  });\n  const [dialogState, setDialogState] = React.useState(false);\n  const confirm = useConfirm();\n  const headers = [{\n    title: 'name',\n    field: 'name'\n  }, {\n    title: 'description',\n    field: 'text'\n  }, {\n    title: 'created at',\n    field: 'createdAt'\n  }];\n  const handleStateChange = useCallback(id => setTodos(todos.filter(todo => todo._id !== id)), [todos]);\n  const updateTodos = useCallback(todo => setTodos(todos.concat(todo)), [todos]);\n  useEffect(() => {\n    getTodos().then(({\n      data: {\n        todos\n      }\n    }) => {\n      const todoList = todos;\n      setTodos(todoList);\n    }).catch(err => console.log(err));\n  }, []);\n\n  const handleUpdate = todo => {\n    confirm({\n      description: 'This action is permanent!'\n    }).then(() => updateTodo(todo)).then(() => updateTodos).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"To Dos\",\n    columns: headers,\n    data: todos,\n    onRowClick: (event, rowData) => {\n      setDialogState(true);\n      setTodo({\n        _id: rowData._id,\n        name: rowData.name,\n        text: rowData.text,\n        status: rowData.status,\n        createdAt: rowData.createdAt\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    open: dialogState,\n    onClose: () => setDialogState(false),\n    \"aria-labelledby\": \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    defaultValue: todo.text,\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => setDialogState(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => {\n      handleUpdate(todo);\n      setDialogState(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, \"Update\"))));\n}","map":{"version":3,"sources":["/Users/nessa.kennedy/myprojects/todos/client/src/components/ShowTodos.tsx"],"names":["React","useCallback","useEffect","getTodos","updateTodo","TextField","MaterialTable","Dialog","DialogTitle","DialogContent","DialogActions","Button","useConfirm","ShowTodos","todos","setTodos","useState","todo","setTodo","_id","name","text","status","createdAt","dialogState","setDialogState","confirm","headers","title","field","handleStateChange","id","filter","updateTodos","concat","then","data","todoList","catch","err","console","log","handleUpdate","description","event","rowData"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,WAAR,EAAqBC,SAArB,QAAqC,OAArC;AAEA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,iBAAnC;AACA,SAAQC,SAAR,QAAwB,mBAAxB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAAQC,UAAR,QAAyB,qBAAzB;AAEA,eAAe,SAASC,SAAT,GAAsB;AAEnC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBf,KAAK,CAACgB,QAAN,CAAwB,EAAxB,CAA1B;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBlB,KAAK,CAACgB,QAAN,CAAsB;AAC5CG,IAAAA,GAAG,EAAE,EADuC;AAE5CC,IAAAA,IAAI,EAAE,EAFsC;AAG5CC,IAAAA,IAAI,EAAE,EAHsC;AAI5CC,IAAAA,MAAM,EAAE,KAJoC;AAK5CC,IAAAA,SAAS,EAAE;AALiC,GAAtB,CAAxB;AAQA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCzB,KAAK,CAACgB,QAAN,CAAwB,KAAxB,CAAtC;AAEA,QAAMU,OAAO,GAAGd,UAAU,EAA1B;AAEA,QAAMe,OAAO,GAAG,CACd;AAAEC,IAAAA,KAAK,EAAE,MAAT;AAAiBC,IAAAA,KAAK,EAAE;AAAxB,GADc,EAEd;AAAED,IAAAA,KAAK,EAAE,aAAT;AAAwBC,IAAAA,KAAK,EAAE;AAA/B,GAFc,EAGd;AAAED,IAAAA,KAAK,EAAE,YAAT;AAAuBC,IAAAA,KAAK,EAAE;AAA9B,GAHc,CAAhB;AAMA,QAAMC,iBAAiB,GAAG7B,WAAW,CAAE8B,EAAE,IACrChB,QAAQ,CAACD,KAAK,CAACkB,MAAN,CAAaf,IAAI,IAAIA,IAAI,CAACE,GAAL,KAAaY,EAAlC,CAAD,CADyB,EACgB,CAACjB,KAAD,CADhB,CAArC;AAIA,QAAMmB,WAAW,GAAGhC,WAAW,CAAEgB,IAAI,IACjCF,QAAQ,CAACD,KAAK,CAACoB,MAAN,CAAajB,IAAb,CAAD,CADmB,EACG,CAACH,KAAD,CADH,CAA/B;AAKAZ,EAAAA,SAAS,CAAC,MAAM;AAEZC,IAAAA,QAAQ,GACPgC,IADD,CACM,CAAC;AAACC,MAAAA,IAAI,EAAE;AAACtB,QAAAA;AAAD;AAAP,KAAD,KAAoC;AACxC,YAAMuB,QAAQ,GAAGvB,KAAjB;AACDC,MAAAA,QAAQ,CAACsB,QAAD,CAAR;AACA,KAJD,EAKCC,KALD,CAKQC,GAAD,IAAgBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALvB;AAMH,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMG,YAAY,GAAIzB,IAAD,IAAiB;AAEpCS,IAAAA,OAAO,CAAC;AAAEiB,MAAAA,WAAW,EAAE;AAAf,KAAD,CAAP,CACCR,IADD,CACM,MAAO/B,UAAU,CAACa,IAAD,CADvB,EAECkB,IAFD,CAEM,MAAMF,WAFZ,EAGCK,KAHD,CAGQC,GAAD,IAAgBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHvB;AAKD,GAPD;;AAQM,sBACI,uDACN,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAC,QAArB;AAA8B,IAAA,OAAO,EAAEZ,OAAvC;AAAgD,IAAA,IAAI,EAAEb,KAAtD;AACe,IAAA,UAAU,EAAE,CAAC8B,KAAD,EAAQC,OAAR,KAAoB;AAE/BpB,MAAAA,cAAc,CAAC,IAAD,CAAd;AACDP,MAAAA,OAAO,CAAC;AAACC,QAAAA,GAAG,EAAE0B,OAAO,CAAC1B,GAAd;AACNC,QAAAA,IAAI,EAAEyB,OAAO,CAACzB,IADR;AAENC,QAAAA,IAAI,EAAEwB,OAAO,CAACxB,IAFR;AAGNC,QAAAA,MAAM,EAAEuB,OAAO,CAACvB,MAHV;AAINC,QAAAA,SAAS,EAAEsB,OAAO,CAACtB;AAJb,OAAD,CAAP;AAMC,KAVhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADM,eAaV,oBAAC,MAAD;AACI,IAAA,IAAI,EAAEC,WADV;AAEI,IAAA,OAAO,EAAE,MAAMC,cAAc,CAAC,KAAD,CAFjC;AAGI,uBAAgB,mBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,mBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,eAME,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACI,IAAA,YAAY,EAAER,IAAI,CAACI,IADvB;AAEI,IAAA,SAAS,MAFb;AAGI,IAAA,MAAM,EAAC,OAHX;AAII,IAAA,EAAE,EAAC,MAJP;AAKI,IAAA,SAAS,MALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,eAeE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAE,MAAMI,cAAc,CAAC,KAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAwB,IAAA,OAAO,EAAE,MAAM;AACrCiB,MAAAA,YAAY,CAACzB,IAAD,CAAZ;AACAQ,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,CAfF,CAbU,CADJ;AA4CP","sourcesContent":["import * as React from \"react\"\nimport {useCallback, useEffect} from \"react\"\nimport {ITodo} from \"../types/type.todo\"\nimport {getTodos, updateTodo} from \"../api/requests\"\nimport {TextField} from \"@material-ui/core\"\nimport MaterialTable from \"material-table\"\nimport Dialog from \"@material-ui/core/Dialog\"\nimport DialogTitle from \"@material-ui/core/DialogTitle\"\nimport DialogContent from \"@material-ui/core/DialogContent\"\nimport DialogActions from \"@material-ui/core/DialogActions\"\nimport Button from \"@material-ui/core/Button\"\nimport {useConfirm} from \"material-ui-confirm\"\n\nexport default function ShowTodos () {\n\n  const [todos, setTodos] = React.useState<ITodo[]>([]);\n\n  const [todo, setTodo] = React.useState<ITodo>({\n    _id: \"\",\n    name: \"\",\n    text: \"\",\n    status: false,\n    createdAt: \"\"\n  });\n\n  const [dialogState, setDialogState] = React.useState<boolean>(false);\n\n  const confirm = useConfirm();\n\n  const headers = [\n    { title: 'name', field: 'name'},\n    { title: 'description', field: 'text'},\n    { title: 'created at', field: 'createdAt'}\n  ]\n\n  const handleStateChange = useCallback( id =>\n      setTodos(todos.filter(todo => todo._id !== id)), [todos]\n  )\n\n  const updateTodos = useCallback( todo =>\n      setTodos(todos.concat(todo)), [todos]\n  )\n\n\n  useEffect(() => {\n\n      getTodos()\n      .then(({data: {todos}}: ITodo[] | any) => {\n        const todoList = todos\n       setTodos(todoList)\n      })\n      .catch((err: Error) => console.log(err))\n  }, [])\n\n  const handleUpdate = (todo: ITodo) => {\n\n    confirm({ description: 'This action is permanent!' })\n    .then(() =>  updateTodo(todo))\n    .then(() => updateTodos)\n    .catch((err: Error) => console.log(err))\n\n  }\n        return (\n            <>\n      <MaterialTable title=\"To Dos\" columns={headers} data={todos}\n                     onRowClick={(event, rowData) => {\n\n                      setDialogState(true);\n                     setTodo({_id: rowData._id,\n                       name: rowData.name,\n                       text: rowData.text,\n                       status: rowData.status,\n                       createdAt: rowData.createdAt\n                     })\n                     }}/>\n\n  <Dialog\n      open={dialogState}\n      onClose={() => setDialogState(false)}\n      aria-labelledby=\"form-dialog-title\"\n  >\n    <DialogTitle id=\"form-dialog-title\">Update</DialogTitle>\n    <DialogContent>\n      <TextField\n          defaultValue={todo.text}\n          autoFocus\n          margin=\"dense\"\n          id=\"name\"\n          fullWidth\n      />\n    </DialogContent>\n    <DialogActions>\n      <Button color=\"primary\" onClick={() => setDialogState(false)}>\n        Cancel\n      </Button>\n      <Button color=\"primary\" onClick={() => {\n        handleUpdate(todo)\n        setDialogState(false)\n      }}>\n        Update\n      </Button>\n    </DialogActions>\n  </Dialog>\n</>\n  );\n\n}"]},"metadata":{},"sourceType":"module"}